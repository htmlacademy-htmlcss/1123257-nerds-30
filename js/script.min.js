const link=document.querySelector(".modal-link"),popup=document.querySelector(".modal"),close=document.querySelector(".button-close"),my_name=popup.querySelector(".feedback-name"),my_email=popup.querySelector(".feedback-email"),my_message=popup.querySelector(".feedback-message"),form=popup.querySelector("form");let isStorageSupport=!0,storageName="",storageEmail="";try{storageName=localStorage.getItem("name"),storageEmail=localStorage.getItem("email")}catch(e){isStorageSupport=!1}link.addEventListener("click",function(e){e.preventDefault(),popup.classList.add("modal-show"),storageName&&storageEmail?(my_name.value=storageName,my_email.value=storageEmail,my_message.focus()):my_name.focus()}),close.addEventListener("click",function(e){e.preventDefault(),popup.classList.remove("modal-show"),popup.classList.remove("modal-error")}),form.addEventListener("submit",function(e){e.preventDefault(),my_name.value&&my_email.value&&my_message.value?(isStorageSupport&&(localStorage.setItem("name",my_name.value),localStorage.setItem("email",my_email.value)),popup.classList.remove("modal-show")):(e.preventDefault(),popup.classList.remove("modal-error"),popup.offsetWidth=popup.offsetWidth,popup.classList.add("modal-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&popup.classList.contains("modal-show")&&(e.preventDefault(),popup.classList.remove("modal-show"))});const promo=document.querySelector(".promo"),dot_first=document.querySelector(".dot-first"),dot_second=document.querySelector(".dot-second"),dot_third=document.querySelector(".dot-third"),item_first=document.querySelector(".item-first"),item_second=document.querySelector(".item-second"),item_third=document.querySelector(".item-third");dot_first.addEventListener("click",function(e){e.preventDefault(),(item_second.classList.contains("item-show")||item_third.classList.contains("item-show"))&&(item_second.classList.remove("item-show"),item_third.classList.remove("item-show"),item_first.classList.add("item-show"),dot_second.classList.remove("current"),dot_third.classList.remove("current"),dot_first.classList.add("current"))}),dot_second.addEventListener("click",function(e){e.preventDefault(),(item_first.classList.contains("item-show")||item_third.classList.contains("item-show"))&&(item_first.classList.remove("item-show"),item_third.classList.remove("item-show"),item_second.classList.add("item-show"),dot_first.classList.remove("current"),dot_third.classList.remove("current"),dot_second.classList.add("current"))}),dot_third.addEventListener("click",function(e){e.preventDefault(),(item_first.classList.contains("item-show")||item_second.classList.contains("item-show"))&&(item_second.classList.remove("item-show"),item_first.classList.remove("item-show"),item_third.classList.add("item-show"),dot_second.classList.remove("current"),dot_first.classList.remove("current"),dot_third.classList.add("current"))});